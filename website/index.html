<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>CMSC447 Project</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <style>
      body {
        padding-top: 54px;
      }
      @media (min-width: 992px) {
        body {
          padding-top: 56px;
        }
      }
      #map {
        height: 100%;
        width: 75%;
        position: absolute;
        
      }
      #query {
        position: absolute;
        right: 0%

      }
      /* Optional: Makes the sample page fill the window. */
      /*html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
*/
    </style>

  </head>

  <body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
      <div class="container">
        <a class="navbar-brand" href="#">Start Bootstrap</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <a class="nav-link" href="index.html">Query
                <span class="sr-only">(current)</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">About</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Page Content -->
 
        <table width=100% height=100%>
        <tbody>
        <tr>
          <td width=75% height=100%>
            
            <div id="map"></div>      
            
        <script>
          var map;
          var umbc = {lat: 39.260261, lng: -76.711508};
          function initMap() {
            map = new google.maps.Map(document.getElementById('map'), {
                center: umbc,
                zoom: 8
            });

          }
          </script>
          <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBhOR2E6G3t8nrOqDF6WkgKEueL8YykS0c&callback=initMap"
          async defer></script>
          </td>

          <td width=25% height=100%>
            <div id="query" align="right">
            <form align="middle" width=100% height=100%>
                Test Query: 
                <input type="text" name="testQuery" id="testQuery"><br>
                <br>
                <button type="button" onclick="handleSubmit()">Submit</button>
              
                <script type="text/javascript">
                    function handleSubmit() {
                      var testData = document.getElementById("testQuery").value;
                      $.ajax({
                        url: "/getPoints",
                        //make an AJAX request to the py script
                        type: "POST",
                        //pass query params below
                        data: { param: testData },
                        success: callbackFunc
                      });
                    }

                    function callbackFunc(response) {
                      //handle response here
                      console.log(response);
                      /**
		      var positions = JSON.parse(response);
                      positions.forEach(function(element) {
                          console.log(element);
                          var marker = new google.maps.Marker({
                            position: {lat: element[0], lng: element[1]},
                            map: map
                          });
                      });
		      **/
                    }
                </script>
            </form>

            </div>
      
          </td>
          </tr>
        </tbody>
        </table>
        <!-- DivTable.com -->



    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  </body>

</html>
